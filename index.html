<!DOCTYPE html>
<style>

</style>

<svg width="900" height="900"></svg>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

var svg = d3.select("svg")
  width = +svg.attr("width")
  height = +svg.attr("height")
  radius = Math.min(width,height) / 4
  g = svg.append("g").attr("transform", "translate(" + width / 4 + "," + height / 2 + ")");

var pie = d3.pie()
  .sort(null)
  .value(function(d) { return d.pct; });

var path = d3.arc()
  .outerRadius(radius - 5)
  .innerRadius(3);

d3.csv("us-fw.csv", function(d) {
  d.val = +d.Value;
  d.unit = d.UNIT;
  d.year = +d.TIME;
  d.cat = +d.CAT;
  d.act = +d.ACT;
  return d; 
}, function(error, data) {
  if (error) throw error;

  data = data.filter(function(row) {
    return row.year == yr && row.unit == 'PCT';
  })


  var arc = g.selectAll(".arc")
    .data(pie(data))
    .enter().append("g")
      .attr("class", "arc");

  arc.append("path")
    .attr("d", path)
    .attr("fill", "blue")

});




</script>
